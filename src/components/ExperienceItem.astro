---
import LinkInline from "./LinkInline.astro";

interface Props {
  title: string;
  company: string;
  description: string[];
  link?: string;
  date: string;
}

const { title, company, description, link, date } = Astro.props;
---

<div
  class="relative mx-12 pb-3 grid before:absolute before:left-[-35px] before:block before:h-full before:border-l-2 before:border-black/20 dark:before:border-white/15 before:content-[''] md:grid-cols-5 md:gap-10 md:space-x-4]"
>
  <div class="relative pb-12 md:col-span-2">
    <div class="sticky top-0">
      <span class="text-yellow-400 -left-[42px] absolute rounded-full text-5xl"
        >&bull;</span
      ><h3 class="text-xl font-bold text-yellow-500">{title}</h3>
      <h4 class="font-semibold text-lg text-gray-600 dark:text-white">
        {company}
      </h4>
      <time class="p-0 m-0 text-sm text-gray-600/80 dark:text-white/80"
        >{date}</time
      >
    </div>
  </div>
  <div
    class="relative flex flex-col gap-2 pb-4 text-gray-600 dark:text-gray-300 md:col-span-3"
  >
    <details class="group">
      <summary
        class="flex items-center justify-between w-full p-5 font-medium rtl:text-right text-gray-800 border border-b-0 border-gray-200 rounded-t-xl focus:ring-2 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-900 gap-3"
      >
        <span> Responsabilidades y Actividades:</span>
        <span class="transition group-open:rotate-180">
          <svg
            fill="none"
            height="24"
            shape-rendering="geometricPrecision"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="1.5"
            viewBox="0 0 24 24"
            width="24"
            ><path d="M6 9l6 6 6-6"></path>
          </svg>
        </span>
      </summary>
      <ul class="border border-gray-200 rounded overflow-hidden shadow-md">
        {
          description.map((activity) => (
            <li class="w-full px-4 py-2 border-b text-justify hover:bg-sky-100 hover:text-gray-900 border-gray-300 dark:border-gray-200 last:border-none transition-all duration-300 ease-in-out">
              {activity}
            </li>
          ))
        }
      </ul>

      {
        link && (
          <LinkInline href={link}>
            Saber m√°s{" "}
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-5 icon icon-tabler icon-tabler-chevron-right"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              stroke-width="2"
              stroke="currentColor"
              fill="none"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <>
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <path d="M9 6l6 6l-6 6" />
              </>
            </svg>
          </LinkInline>
        )
      }
    </details>
  </div>
</div>
